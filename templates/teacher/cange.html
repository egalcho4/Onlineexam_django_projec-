{%extends 'teacher/teacherbase.html'%}
{%load static%}
{% load widget_tweaks %}
{%block content%}
 
<link rel="stylesheet" href="{%static 'css/bootstrap.min.css' %}">
<script type="text/javascript" src="{%static 'jsb/bootstrap.min.js' %}"></script>
<!-- Vertically centered modal -->


<style>
  ul li{
    display:flex;
    font-size:20px;
   
    
  }
  ul{
    
  }
</style>




<div class="container-sm" style="">
  {% if messages %}
  {% for message in messages %}
<div class="container-fluid p-0">
<div class="alert {{ message.tags }} alert-dismissible" role="alert" >
  <button  class="btn close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="True">&times;</span>
  </button>
  {{ message }}
</div>
</div>
{% endfor %}
      {%endif%}

 
  <ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true"> password </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false">profile</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab" aria-controls="contact" aria-selected="false">Contact</button>
    </li>
  </ul>
  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
        <div class="card" style="width:60%">
            <div class="card-body">
          <div class="conatainer-sm ">
            <form action="" method="post" style="padding:20px;" id="form2">
              {% if messages %}
              {% for message in messages %}
          <div class="container-fluid p-0">
            <div class="alert {{ message.tags }} alert-dismissible" role="alert" >
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="True">&times;</span>
              </button>
              {{ form.error }}
            </div>
          </div>
          {% endfor %}
                  {%endif%}
              {%csrf_token%}
              <input type="hidden" name="user" id="info" value="{{usrn}}">
              <label class="form-label">current password</label>
              <input type="password" name="pas" id="" class="form-control" value=""/>
              <label class="form-label">new password</label>
              <input type="password" name="pas1"  id="pas1" class="form-control" value="" />
              <ul>
              <li id="li1"><input type="radio" id="us">&nbsp;&nbsp;Your password can’t be too similar to your other personal information.</li>
              <li id="li2"><input type="radio" id="len">&nbsp;&nbsp;Your password must contain at least 8 characters.</li>
              <li id="li3"><input type="radio" id="com">&nbsp;&nbsp;Your password can’t be a commonly used password.</li>
              <li id="li4"><input type="radio" id="dg">&nbsp;&nbsp;Your password can’t be entirely numeric.</li>
              <li id="li4"><input type="radio" id="psm">&nbsp;&nbsp;two password must match</li>
              </ul>
              <label class="form-label">conform password</label>
              <input type="password" name="pas2" id="pas2" class="form-control" value="" />
              <br><br>
      
        <button type="submit" class="btn btn-primary">Change password</button>
      
      </form>
            </div>
          </div></div>
      </div>
    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
     
    </div>
    <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
       <ul>
        <li>name egalcho</li>
        <li>email: egalcho1@gmail.com</li>
        <li>phone :0963999539</li>
       </ul> 
    
    
    
    </div>
  </div>
       <br><br><br>
       
       
          
          <div></div>
    
 
</center>
  <!-- Vertically centered scrollable modal -->
  <script>
  
    var us=document.querySelector('#us');
    var len=document.querySelector('#len');
    var dg=document.querySelector('#dg');
    var com=document.querySelector('#com');
    var pas1=document.querySelector('#pas1');
    var pas2=document.querySelector('#pas2');
    var info=document.querySelector('#info');
  
    var li1=document.querySelector('#li1');
    var li2=document.querySelector('#li2');
    var li3=document.querySelector('#li3');
    var li4=document.querySelector('#li4');
    var psm=document.querySelector('#psm');
    pas1.addEventListener('keyup',()=>{
    
     pas=pas1.value;
     co=info.value;
     
    
      if(pas==co){
      
      li1.style.backgroundColor="red"
     
    }else{
      li1.style.backgroundColor="green"
      //li1.setAttribute("class","fa fa-check")
      us.setAttribute("checked","")
      var pasc=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,15}$/;
      if(pas.match(pasc)){
        li2.style.backgroundColor="green"
      
      us.setAttribute("checked","")
      if(pas==pas2.value){
  psm.style.backgroundColor="green"
      }else{
        psm.style.backgroundColor="red"
      }
      }else{
        li1.style.backgroundColor="red"
      }
    }
     
    });
  </script>
    <script>
      var btn1=document.querySelector('#btn1');
      var btn2=document.querySelector('#btn2');
     
      var form1=document.querySelector('#form1');
      var form2=document.querySelector('#form2');
     
      btn2.addEventListener('click',()=>{
       form1.style.display="none";
       form2.style.display="block";
      });
      
    </script>
  <script>
    var btn1=document.querySelector('#btn1');
    var btn2=document.querySelector('#btn2');
   
    var form1=document.querySelector('#form1');
    var form2=document.querySelector('#form2');
   
    btn2.addEventListener('click',()=>{
     form1.style.display="none";
     form2.style.display="block";
    });
    
  </script>
  <script>
    var pasc=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,15}$/;
    $(document).ready(function(){
        $('#form2').submit(function(){
            
        var pas1=$('#pas1').val()
        var pas=$('#pas').val()
        var pas2=$('#pas2').val()
        if (!pas1.match(pasc)){
            $('$len').setAttribute("style","background-color:red")
            return false;
        }else if(pas1!=pas2){
            $('$psm').setAttribute("style","background-color:red")
            return false;
        }else{
            $.ajax({
              url: "{%url 'teacher:change_password'%}",
              type: "POST",
              dataType: 'json',
              data: {
               pas:pas1,
               pas1:pas,
              },
              success: function (response) {
                  
        
              }
    })
return true;
        }

        })
    })
  </script>

{%endblock%}